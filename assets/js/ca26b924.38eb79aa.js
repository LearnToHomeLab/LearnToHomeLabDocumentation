"use strict";(globalThis.webpackChunkLearn_To_Homelab=globalThis.webpackChunkLearn_To_Homelab||[]).push([[3494],{4275:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>x,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"HomeLab-Series/EP36_fail2baninstall","title":"How to Install Fail2Ban in 2025","description":"<div style={{","source":"@site/docs/HomeLab-Series/EP36_fail2baninstall.mdx","sourceDirName":"HomeLab-Series","slug":"/HomeLab-Series/EP36_fail2baninstall","permalink":"/docs/HomeLab-Series/EP36_fail2baninstall","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":38,"frontMatter":{"sidebar_position":38},"sidebar":"tutorialSidebar","previous":{"title":"How to Enable and Use The Linux Firewall (UFW)","permalink":"/docs/HomeLab-Series/EP35_LinuxUFW"},"next":{"title":"Remove Unnecessary/Unused Linux Packages","permalink":"/docs/HomeLab-Series/EP37_RemovelinuxPackages"}}');var l=i(4848),r=i(8453),a=i(3573);i(6519),i(7286);const t={sidebar_position:38},o="How to Install Fail2Ban in 2025",c={},d=[{value:"Install Fail2Ban",id:"install-fail2ban",level:2},{value:"Basic Configuration",id:"basic-configuration",level:2},{value:"Verify Fail2Ban Operation",id:"verify-fail2ban-operation",level:2},{value:"Follow Us on Social Media",id:"follow-us-on-social-media",level:2}];function h(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"how-to-install-fail2ban-in-2025",children:"How to Install Fail2Ban in 2025"})}),"\n",(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,l.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/JyAdPYkdqkM?si=9wm7pHwL5mWn0nCJ",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),"\n",(0,l.jsx)(n.h2,{id:"install-fail2ban",children:"Install Fail2Ban"}),"\n",(0,l.jsx)(n.p,{children:"Fail2Ban protects Linux servers from malicious attacks like brute-force login attempts by monitoring system logs and blocking offending IPs, usually by adding firewall rules."}),"\n",(0,l.jsx)(n.p,{children:"Install it with:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"sudo apt install fail2ban\n"})}),"\n",(0,l.jsx)(n.p,{children:"Start and enable the service:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"sudo systemctl start fail2ban\r\nsudo systemctl enable fail2ban\n"})}),"\n",(0,l.jsx)(n.p,{children:"Check service status:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"sudo systemctl status fail2ban\n"})}),"\n",(0,l.jsx)(a.A,{children:(0,l.jsx)(n.p,{children:"You can skip to part 5 if the default install is sufficient. For customization, see the configuration options below."})}),"\n",(0,l.jsx)(n.h2,{id:"basic-configuration",children:"Basic Configuration"}),"\n",(0,l.jsx)(n.p,{children:'Fail2Ban uses "jails" to specify services and how to react to suspicious activity.'}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Create a local config file (do ",(0,l.jsx)(n.strong,{children:"not"})," edit jail.conf directly):"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"sudo cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Or create/edit ",(0,l.jsx)(n.code,{children:"/etc/fail2ban/jail.local"})," if not existing."]}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsx)(n.li,{children:"Edit the config:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"sudo nano /etc/fail2ban/jail.local\n"})}),"\n",(0,l.jsx)(n.p,{children:"Key settings to review:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ignoreip"})," \u2014 IP addresses never to ban (e.g., your own)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"bantime"})," \u2014 seconds to ban an IP (e.g., 3600 for 1 hour)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"findtime"})," \u2014 time window for failure counts (e.g., 600 seconds)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"maxretry"})," \u2014 number of failures before ban (e.g., 3)."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"[DEFAULT]\r\nignoreip = 127.0.0.1\r\nbantime = 3600\r\nfindtime = 600\r\nmaxretry = 3\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsx)(n.li,{children:"Enable the SSH jail:"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Make sure these lines are present in your ",(0,l.jsx)(n.code,{children:"jail.local"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"[sshd]\r\nenabled = true\r\nport = ssh\r\nfilter = sshd\r\nlogpath = /var/log/auth.log\r\nmaxretry = 3\r\nbantime = 600\r\nfindtime = 600\n"})}),"\n",(0,l.jsx)(n.p,{children:"This protects SSH from brute-force attacks."}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsx)(n.li,{children:"Restart Fail2Ban:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"sudo systemctl restart fail2ban\n"})}),"\n",(0,l.jsx)(n.h2,{id:"verify-fail2ban-operation",children:"Verify Fail2Ban Operation"}),"\n",(0,l.jsx)(n.p,{children:"Check all jails:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"sudo fail2ban-client status\n"})}),"\n",(0,l.jsx)(n.p,{children:"Check specific jail (e.g., sshd):"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"sudo fail2ban-client status sshd\n"})}),"\n",(0,l.jsx)(n.h2,{id:"follow-us-on-social-media",children:"Follow Us on Social Media"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://www.youtube.com/@learntohomelab",children:"YouTube"}),(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.a,{href:"https://discord.gg/6MsHSJWZpH",children:"Discord"}),(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.a,{href:"https://www.patreon.com/c/learntohomelab",children:"Patreon"}),(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.a,{href:"https://www.reddit.com/r/learntohomelab/",children:"Reddit"}),(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.a,{href:"https://rumble.com/c/c-7585051",children:"Rumble"})]})]})}function x(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}}}]);