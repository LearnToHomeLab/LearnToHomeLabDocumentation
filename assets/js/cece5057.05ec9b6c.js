"use strict";(globalThis.webpackChunkLearn_To_Homelab=globalThis.webpackChunkLearn_To_Homelab||[]).push([[6376],{5507:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>x,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"HomeLab-Series/EP10_zabbixserver","title":"Zabbix Server Install","description":"Zabbix is an open-source monitoring tool that monitors IT infrastructure, including:","source":"@site/docs/HomeLab-Series/EP10_zabbixserver.mdx","sourceDirName":"HomeLab-Series","slug":"/HomeLab-Series/EP10_zabbixserver","permalink":"/docs/HomeLab-Series/EP10_zabbixserver","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"sidebar_position":13},"sidebar":"tutorialSidebar","previous":{"title":"Installing Tailscale on Proxmox","permalink":"/docs/HomeLab-Series/EP9_tailscale"},"next":{"title":"Zabbix Agent install on a VM (Linux)","permalink":"/docs/HomeLab-Series/EP11_zabbixagent"}}');var i=n(4848),a=n(8453),t=n(3573),o=(n(6519),n(7286));const l={sidebar_position:13},d="Zabbix Server Install",c={},h=[{value:"Our Homelab Topology",id:"our-homelab-topology",level:2},{value:"The Order of Commands",id:"the-order-of-commands",level:2},{value:"List of commands used",id:"list-of-commands-used",level:2},{value:"Install zabbix Commands:",id:"install-zabbix-commands",level:2},{value:"Install SQL server",id:"install-sql-server",level:3},{value:"Create the database",id:"create-the-database",level:3},{value:"Follow Us on Social Media",id:"follow-us-on-social-media",level:2}];function b(e){const s={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"zabbix-server-install",children:"Zabbix Server Install"})}),"\n",(0,i.jsxs)(s.p,{children:["Zabbix is an open-source monitoring tool that monitors IT infrastructure, including:",(0,i.jsx)(s.br,{}),"\n","Networks, Servers, Virtual machines (VMs), Cloud services, Applications, Databases, and Websites"]}),"\n",(0,i.jsx)(s.p,{children:"In this episode we will cover how to setup the server side of Zabbix and in the following episode/article we will show you the agent side."}),"\n",(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,i.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/Ax3h24kXR1M?si=EnQw5wDNpi3ImpXW",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),"\n",(0,i.jsx)(s.h2,{id:"our-homelab-topology",children:"Our Homelab Topology"}),"\n",(0,i.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Untitled Diagram.png",alt:"Description of your image"}),"\n",(0,i.jsx)(s.h2,{id:"the-order-of-commands",children:"The Order of Commands"}),"\n",(0,i.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"_second picture of zabbix steps.png",alt:"Description of your image"}),"\n",(0,i.jsx)(s.h2,{id:"list-of-commands-used",children:"List of commands used"}),"\n",(0,i.jsx)(t.A,{children:(0,i.jsx)(s.p,{children:"Some commands MAY change usually just step 2 based on the current version of Zabbix. All other commands should work though."})}),"\n",(0,i.jsx)(s.h2,{id:"install-zabbix-commands",children:"Install zabbix Commands:"}),"\n",(0,i.jsxs)(s.p,{children:["Link to Zabbix's site and the commands can be found ",(0,i.jsx)(s.a,{href:"https://www.zabbix.com/download?zabbix=7.0&os_distribution=ubuntu&os_version=22.04&components=server_frontend_agent&db=mysql&ws=apache",children:"here"})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"sudo -s\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"wget https://repo.zabbix.com/zabbix/7.0/ubuntu/pool/main/z/zabbix-release/zabbix-release_latest_7.0+ubuntu22.04_all.deb\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"dpkg -i zabbix-release_latest_7.0+ubuntu22.04_all.deb\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"apt update\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"apt install zabbix-server-mysql zabbix-frontend-php zabbix-apache-conf zabbix-sql-scripts zabbix-agent\n"})}),"\n",(0,i.jsx)(s.h3,{id:"install-sql-server",children:"Install SQL server"}),"\n",(0,i.jsx)(s.p,{children:"Installs mySQL"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"sudo apt-get install mysql-server\n"})}),"\n",(0,i.jsx)(s.p,{children:"Starts mySQL on boot"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"sudo systemctl start mysql\n"})}),"\n",(0,i.jsx)(s.p,{children:"Start it"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"service mysql start\n"})}),"\n",(0,i.jsx)(s.p,{children:"Then do"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"mysql\n"})}),"\n",(0,i.jsx)(s.h3,{id:"create-the-database",children:"Create the database"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"sudo mysql\n"})}),"\n",(0,i.jsx)(s.p,{children:"Formats the database type to a the format Zabbix can understand (utf8mb4)"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"create database zabbix character set utf8mb4 collate utf8mb4_bin;\n"})}),"\n",(0,i.jsxs)(s.p,{children:["With this one the ",(0,i.jsx)(s.code,{children:"password"})," section is where you assign your database password"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"create user zabbix@localhost identified by 'password';\n"})}),"\n",(0,i.jsx)(s.p,{children:"Giving your user access to read and write to this database"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"grant all privileges on zabbix.* to zabbix@localhost;\n"})}),"\n",(0,i.jsx)(s.p,{children:"Set trust for the database"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"set global log_bin_trust_function_creators = 1;\n"})}),"\n",(0,i.jsx)(s.p,{children:"Exit mySQL"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"quit;\n"})}),"\n",(0,i.jsx)(t.A,{children:(0,i.jsx)(s.p,{children:"Wait a couple minutes after doing the following command, the script takes awhile to work. You won't see any output for a couple minutes"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"zcat /usr/share/zabbix-sql-scripts/mysql/server.sql.gz | mysql --default-character-set=utf8mb4 -uzabbix -p zabbix\n"})}),"\n",(0,i.jsx)(s.p,{children:"Go back into mySQL"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"mysql\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"set global log_bin_trust_function_creators = 0;\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"quit;\n"})}),"\n",(0,i.jsx)(s.p,{children:"Now edit config file:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"nano /etc/zabbix/zabbix_server.conf\n"})}),"\n",(0,i.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.6.1.png",alt:"Description of your image"}),"\n",(0,i.jsxs)(s.p,{children:["Look for the ",(0,i.jsx)(s.code,{children:"DBuser=zabbix"})," section and edit the ",(0,i.jsx)(s.code,{children:"DBPassword="})," section with the password you just set earlier."]}),"\n",(0,i.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.6.2.png",alt:"Description of your image"}),"\n",(0,i.jsxs)(s.p,{children:["Save and exit with ",(0,i.jsx)("kbd",{children:"ctrl + X"}),", then ",(0,i.jsx)("kbd",{children:"Y"}),", then ",(0,i.jsx)("kbd",{children:"Enter"}),"."]}),"\n",(0,i.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.6.3.png",alt:"Description of your image"}),"\n",(0,i.jsx)(s.p,{children:"Start services:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"systemctl restart zabbix-server zabbix-agent apache2\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"systemctl enable zabbix-server zabbix-agent apache2\n"})}),"\n",(0,i.jsx)(s.p,{children:"Go to your browser to visit:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"http://host_machine_ip/zabbix\n"})}),"\n",(0,i.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.7.1.png",alt:"Description of your image"}),"\n",(0,i.jsx)(s.p,{children:"You will be presented with the landing page, click next."}),"\n",(0,i.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.8.1.png",alt:"Description of your image"}),"\n",(0,i.jsx)(s.p,{children:"Make sure everything has a green ok so you know you did it right."}),"\n",(0,i.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.8.2.png",alt:"Description of your image"}),"\n",(0,i.jsx)(s.p,{children:"Ensure you add the database user password you just set in that config file so Zabbix's panel can access it."}),"\n",(0,i.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.8.3.png",alt:"Description of your image"}),"\n",(0,i.jsx)(s.p,{children:"Set your server name and timezone."}),"\n",(0,i.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.9.1.png",alt:"Description of your image"}),"\n",(0,i.jsx)(s.p,{children:"Ensure all settings have been filled out or go back and fix them."}),"\n",(0,i.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.9.2.png",alt:"Description of your image"}),"\n",(0,i.jsx)(s.p,{children:"Login, remember the login for username and password is case sensitive! It is Admin NOT admin."}),"\n",(0,i.jsxs)(s.p,{children:["User: Admin",(0,i.jsx)(s.br,{}),"\n","Pass: zabbix"]}),"\n",(0,i.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.9.3.png",alt:"Description of your image"}),"\n",(0,i.jsx)(s.p,{children:"You are in, stay tuned for next episode on how to setup an agent on your servers, VMs, firewalls, etc!"}),"\n",(0,i.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.9.4.png",alt:"Description of your image"}),"\n",(0,i.jsx)(s.h2,{id:"follow-us-on-social-media",children:"Follow Us on Social Media"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://www.youtube.com/@learntohomelab",children:"YouTube"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://discord.gg/6MsHSJWZpH",children:"Discord"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://www.patreon.com/c/learntohomelab",children:"Patreon"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://www.reddit.com/r/learntohomelab/",children:"Reddit"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://rumble.com/c/c-7585051",children:"Rumble"})})]})}function x(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(b,{...e})}):b(e)}}}]);