"use strict";(globalThis.webpackChunkLearn_To_Homelab=globalThis.webpackChunkLearn_To_Homelab||[]).push([[9961],{2712:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>g,frontMatter:()=>d,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"Software-Tutorials/EP8_UnboundDNSNEtworkWideAdBlocking","title":"Unbound DNS and Network Wide Ad Blocking!","description":"Overview","source":"@site/docs/Software-Tutorials/EP8_UnboundDNSNEtworkWideAdBlocking.mdx","sourceDirName":"Software-Tutorials","slug":"/Software-Tutorials/EP8_UnboundDNSNEtworkWideAdBlocking","permalink":"/docs/Software-Tutorials/EP8_UnboundDNSNEtworkWideAdBlocking","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Setup a Modded Minecraft Server on TrueNAS Scale with CurseForge","permalink":"/docs/Software-Tutorials/EP7_ModdedMinecraftOnTrueNAS"},"next":{"title":"Install Immich on TrueNAS in 2025","permalink":"/docs/Software-Tutorials/EP9_ImmichInstallonTrueNAS2025"}}');var o=i(4848),r=i(8453),l=i(3573),t=(i(6519),i(7286));const d={sidebar_position:8},c="Unbound DNS and Network Wide Ad Blocking!",a={},h=[{value:"Overview",id:"overview",level:2},{value:"Benefits",id:"benefits",level:2},{value:"Check Out Our Video on This Topic",id:"check-out-our-video-on-this-topic",level:2},{value:"Guide to Setup Unbound DNS + Ad Blocking",id:"guide-to-setup-unbound-dns--ad-blocking",level:2},{value:"Getting User Stats for Unbound",id:"getting-user-stats-for-unbound",level:2},{value:"Clearing DNS Records on Windows",id:"clearing-dns-records-on-windows",level:2},{value:"Ad Blocking Test",id:"ad-blocking-test",level:2},{value:"Verify Blocking in Unbound Reports",id:"verify-blocking-in-unbound-reports",level:2},{value:"Follow Us on Social Media",id:"follow-us-on-social-media",level:2}];function u(n){const e={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"unbound-dns-and-network-wide-ad-blocking",children:"Unbound DNS and Network Wide Ad Blocking!"})}),"\n",(0,o.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(e.p,{children:"This article covers the advantages of using OPNsense with Unbound DNS and Blocklists for network-wide ad blocking, offering a faster and more streamlined experience than Pi-Hole."}),"\n",(0,o.jsx)(e.h2,{id:"benefits",children:"Benefits"}),"\n",(0,o.jsx)(e.p,{children:"Using Unbound DNS with ad blocking offers several advantages over Cloudflare DNS:"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Enhanced privacy:"})," Unbound removes the need for third-party DNS services, preventing data collection and sale by providers like Cloudflare."]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Recursive resolution:"})," Unbound performs DNS queries starting from root servers, improving privacy through qname minimisation, revealing less about browsing habits."]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Local control:"})," Running Unbound locally gives you full control without reliance on external DNS infrastructure."]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Improved caching:"})," Efficient caching and pre-fetching speed up DNS resolution."]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Reduced tracking:"})," Eliminates tracking opportunities from third-party DNS providers."]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"DNSSEC validation:"})," Protects from DNS spoofing and cache poisoning."]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Compatibility with ad blocking:"})," Integrates easily with solutions such as Pi-hole."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"check-out-our-video-on-this-topic",children:"Check Out Our Video on This Topic"}),"\n",(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,o.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/NdvKIAMfnUM?si=2jkWow2Hcy5Y3ept",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),"\n",(0,o.jsx)(e.h2,{id:"guide-to-setup-unbound-dns--ad-blocking",children:"Guide to Setup Unbound DNS + Ad Blocking"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:["Log in to your OPNsense machine, navigate to ",(0,o.jsx)(e.strong,{children:"Services > Unbound DNS > General"}),"."]}),"\n",(0,o.jsxs)(e.li,{children:["Check ",(0,o.jsx)(e.strong,{children:"Enable Unbound"})," and click ",(0,o.jsx)(e.strong,{children:"Apply"}),"."]}),"\n"]}),"\n",(0,o.jsx)(t.A,{folder:"images/EP0_unbounddns",name:"Still 2024-12-26 191805_1.3.1.png",alt:"Enable Unbound DNS"}),"\n",(0,o.jsxs)(e.ol,{start:"3",children:["\n",(0,o.jsxs)(e.li,{children:["Go to ",(0,o.jsx)(e.strong,{children:"Services > Unbound DNS > Blocklist"}),"."]}),"\n",(0,o.jsx)(e.li,{children:"Enable blocklists, choose blocklist type (e.g., Steven Blacklist)."}),"\n",(0,o.jsxs)(e.li,{children:["Click ",(0,o.jsx)(e.strong,{children:"Apply"}),"."]}),"\n"]}),"\n",(0,o.jsx)(t.A,{folder:"images/EP0_unbounddns",name:"Still 2024-12-26 191805_1.3.3.png",alt:"Blocklist settings"}),"\n",(0,o.jsxs)(e.ol,{start:"6",children:["\n",(0,o.jsx)(e.li,{children:"Change DNS settings in two places to assign your OPNsense IP as DNS resolver:"}),"\n"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.strong,{children:"Services > ISC DHCPv4 > LAN"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.strong,{children:"System > Settings > General"})}),"\n"]}),"\n",(0,o.jsx)(t.A,{folder:"images/EP0_unbounddns",name:"Still 2024-12-26 191805_1.3.4.png",alt:"DHCP DNS setting"}),"\n",(0,o.jsx)(t.A,{folder:"images/EP0_unbounddns",name:"Still 2024-12-26 191805_1.3.5.png",alt:"System DNS setting"}),"\n",(0,o.jsx)(e.h2,{id:"getting-user-stats-for-unbound",children:"Getting User Stats for Unbound"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:["Navigate to ",(0,o.jsx)(e.strong,{children:"Reporting > Unbound DNS"}),"."]}),"\n",(0,o.jsxs)(e.li,{children:["Click ",(0,o.jsx)(e.strong,{children:"Go to the reporting configuration."})]}),"\n"]}),"\n",(0,o.jsx)(t.A,{folder:"images/EP0_unbounddns",name:"Still 2024-12-26 191805_1.3.6.png",alt:"Reporting configuration"}),"\n",(0,o.jsxs)(e.ol,{start:"3",children:["\n",(0,o.jsxs)(e.li,{children:["Enable ",(0,o.jsx)(e.strong,{children:"local gather of Statistics"}),"."]}),"\n"]}),"\n",(0,o.jsx)(t.A,{folder:"images/EP0_unbounddns",name:"Still 2024-12-26 191805_1.3.7.png",alt:"Enable statistics"}),"\n",(0,o.jsx)(e.h2,{id:"clearing-dns-records-on-windows",children:"Clearing DNS Records on Windows"}),"\n",(0,o.jsx)(e.p,{children:"Flush and renew your DNS cache:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"ipconfig /flushdns\r\nipconfig /renew\n"})}),"\n",(0,o.jsx)(t.A,{folder:"images/EP0_unbounddns",name:"Still 2024-12-26 191805_1.4.1.png",alt:"Flush dns command"}),"\n",(0,o.jsx)(e.h2,{id:"ad-blocking-test",children:"Ad Blocking Test"}),"\n",(0,o.jsxs)(e.p,{children:["Perform an adblocking test at ",(0,o.jsx)(e.a,{href:"https://test.adminforge.de/adblock.html",children:"AdminForge"}),"."]}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"Example result: 41% block rate with a single blocklist; adding more will increase effectiveness."}),"\n"]}),"\n",(0,o.jsx)(t.A,{folder:"images/EP0_unbounddns",name:"Still 2024-12-26 191805_1.5.1.png",alt:"Ad block test results"}),"\n",(0,o.jsx)(l.A,{emoji:"\u26a0\ufe0f",title:"Note",children:(0,o.jsx)(e.p,{children:"Remember, adding many blocklists may interfere with your browsing experience or block access to desired sites."})}),"\n",(0,o.jsx)(e.h2,{id:"verify-blocking-in-unbound-reports",children:"Verify Blocking in Unbound Reports"}),"\n",(0,o.jsxs)(e.p,{children:["Go to ",(0,o.jsx)(e.strong,{children:"Reporting > Unbound DNS > Details"})," tab to confirm blocks are happening, indicating correct setup."]}),"\n",(0,o.jsx)(t.A,{folder:"images/EP0_unbounddns",name:"Still 2024-12-26 191805_1.5.2.png",alt:"Blocking statistics"}),"\n",(0,o.jsx)(e.hr,{}),"\n",(0,o.jsx)(e.h2,{id:"follow-us-on-social-media",children:"Follow Us on Social Media"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.a,{href:"https://www.youtube.com/@learntohomelab",children:"YouTube"}),(0,o.jsx)(e.br,{}),"\n",(0,o.jsx)(e.a,{href:"https://discord.gg/6MsHSJWZpH",children:"Discord"}),(0,o.jsx)(e.br,{}),"\n",(0,o.jsx)(e.a,{href:"https://www.patreon.com/c/learntohomelab",children:"Patreon"}),(0,o.jsx)(e.br,{}),"\n",(0,o.jsx)(e.a,{href:"https://www.reddit.com/r/learntohomelab/",children:"Reddit"}),(0,o.jsx)(e.br,{}),"\n",(0,o.jsx)(e.a,{href:"https://rumble.com/c/c-7585051",children:"Rumble"})]})]})}function g(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(u,{...n})}):u(n)}}}]);