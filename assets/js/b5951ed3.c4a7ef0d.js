"use strict";(globalThis.webpackChunkLearn_To_Homelab=globalThis.webpackChunkLearn_To_Homelab||[]).push([[4227],{6228:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"HomeLab-Series/EP34_SSHKeyAuthentication","title":"How to Enable Linux SSH Key Authentication","description":"<div style={{","source":"@site/docs/HomeLab-Series/EP34_SSHKeyAuthentication.mdx","sourceDirName":"HomeLab-Series","slug":"/HomeLab-Series/EP34_SSHKeyAuthentication","permalink":"/docs/HomeLab-Series/EP34_SSHKeyAuthentication","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":36,"frontMatter":{"sidebar_position":36},"sidebar":"tutorialSidebar","previous":{"title":"How to Enable Automatic Security Updates on Linux Ubuntu Server","permalink":"/docs/HomeLab-Series/EP33_AutomaticSecurityUpdates"},"next":{"title":"How to Enable and Use The Linux Firewall (UFW)","permalink":"/docs/HomeLab-Series/EP35_LinuxUFW"}}');var r=s(4848),t=s(8453),o=(s(3573),s(6519),s(7286));const a={sidebar_position:36},c="How to Enable Linux SSH Key Authentication",h={},l=[{value:"Creating the SSH Key",id:"creating-the-ssh-key",level:2},{value:"Uploading the SSH Key to the Linux Server",id:"uploading-the-ssh-key-to-the-linux-server",level:2},{value:"Disable Password Authentication for SSH",id:"disable-password-authentication-for-ssh",level:2},{value:"Follow Us on Social Media",id:"follow-us-on-social-media",level:2}];function d(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"how-to-enable-linux-ssh-key-authentication",children:"How to Enable Linux SSH Key Authentication"})}),"\n",(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,r.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/4Ll2ONlEfcs?si=x-VAtM8gHIjOsfm-",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),"\n",(0,r.jsx)(n.p,{children:"Throughout this course, we have used username and password to SSH into machines. While acceptable for private services, for public exposure or best practice, SSH key authentication is essential. Without your private SSH key, remote login is effectively impossible."}),"\n",(0,r.jsx)(n.h2,{id:"creating-the-ssh-key",children:"Creating the SSH Key"}),"\n",(0,r.jsx)(n.p,{children:"Create the SSH key on your client computer (never transfer your private key over the internet). You can keep a safe copy offline (e.g., USB drive)."}),"\n",(0,r.jsx)(n.p,{children:"You can leave default settings for the key creation:"}),"\n",(0,r.jsx)(o.A,{folder:"images/EP34_SSHKeyAuthentication",name:"ssh key example.png",alt:"SSH key creation example"}),"\n",(0,r.jsx)(n.p,{children:"Run this in your Windows command line:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'ssh-keygen -t ed25519 -C "your_email@example.com"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Your SSH key will be stored at:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"C:\\Users<your_username>.ssh\\\n"})}),"\n",(0,r.jsx)(n.h2,{id:"uploading-the-ssh-key-to-the-linux-server",children:"Uploading the SSH Key to the Linux Server"}),"\n",(0,r.jsx)(n.p,{children:"In the same CLI run (replace placeholders):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'type $env:USERPROFILE.ssh<your_ssh_key_name> | ssh <user>@<host_Ip_address> "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Verify on the server:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cd ~/.ssh\r\nnano authorized_keys\n"})}),"\n",(0,r.jsx)(n.p,{children:"Navigate back to the root directory with:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cd ~\n"})}),"\n",(0,r.jsx)(n.p,{children:"Set correct permissions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"chmod 700 ~/.ssh\r\nchmod 600 ~/.ssh/authorized_keys\n"})}),"\n",(0,r.jsx)(n.h2,{id:"disable-password-authentication-for-ssh",children:"Disable Password Authentication for SSH"}),"\n",(0,r.jsx)(n.p,{children:"Edit the SSH daemon config:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo nano /etc/ssh/sshd_config\n"})}),"\n",(0,r.jsx)(n.p,{children:"In the #Authentication section set:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"PasswordAuthentication no\r\nPermitRootLogin no\n"})}),"\n",(0,r.jsx)(n.p,{children:"You may need to also edit:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo nano /etc/ssh/sshd_config.d/50-cloud-init.conf\n"})}),"\n",(0,r.jsx)(n.p,{children:"Restart SSH:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo systemctl restart ssh\n"})}),"\n",(0,r.jsx)(n.p,{children:"Log out:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"exit\n"})}),"\n",(0,r.jsx)(n.p,{children:"SSH back in without a password prompt:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ssh <username>@<server_ip>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"follow-us-on-social-media",children:"Follow Us on Social Media"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://www.youtube.com/@learntohomelab",children:"YouTube"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"https://discord.gg/6MsHSJWZpH",children:"Discord"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"https://www.patreon.com/c/learntohomelab",children:"Patreon"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"https://www.reddit.com/r/learntohomelab/",children:"Reddit"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.a,{href:"https://rumble.com/c/c-7585051",children:"Rumble"})]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);