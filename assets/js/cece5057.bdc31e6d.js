"use strict";(globalThis.webpackChunkLearn_To_Homelab=globalThis.webpackChunkLearn_To_Homelab||[]).push([[6376],{3573:(e,n,i)=>{i.d(n,{A:()=>r});i(6540);var s=i(4848);function r({icon:e="\u26a0\ufe0f",title:n,children:i}){return(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",backgroundColor:"#e4141e",color:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[(0,s.jsx)("div",{style:{width:"50px",height:"50px",borderRadius:"50%",backgroundColor:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"28px",marginRight:"15px",flexShrink:0,lineHeight:"50px",textAlign:"center"},children:(0,s.jsx)("span",{style:{display:"inline-block",lineHeight:"1",verticalAlign:"middle"},children:e})}),(0,s.jsxs)("div",{children:[n&&(0,s.jsx)("h3",{style:{margin:0,marginBottom:"10px",color:"white"},children:n}),i]})]})}},5507:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>b,frontMatter:()=>l,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"HomeLab-Series/EP10_zabbixserver","title":"Zabbix Server Install","description":"Zabbix is an open-source monitoring tool that monitors IT infrastructure, including:","source":"@site/docs/HomeLab-Series/EP10_zabbixserver.mdx","sourceDirName":"HomeLab-Series","slug":"/HomeLab-Series/EP10_zabbixserver","permalink":"/LearnToHomeLabDocumentation/docs/HomeLab-Series/EP10_zabbixserver","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"sidebar_position":13},"sidebar":"tutorialSidebar","previous":{"title":"Installing Tailscale on Proxmox","permalink":"/LearnToHomeLabDocumentation/docs/HomeLab-Series/EP9_tailscale"},"next":{"title":"Zabbix Agent install on a VM (Linux)","permalink":"/LearnToHomeLabDocumentation/docs/HomeLab-Series/EP11_zabbixagent"}}');var r=i(4848),a=i(8453),t=i(3573),o=(i(6519),i(6819));const l={sidebar_position:13},d="Zabbix Server Install",c={},h=[{value:"Our Homelab Topology",id:"our-homelab-topology",level:2},{value:"The Order of Commands",id:"the-order-of-commands",level:2},{value:"List of commands used",id:"list-of-commands-used",level:2},{value:"Install zabbix Commands:",id:"install-zabbix-commands",level:2},{value:"Install SQL server",id:"install-sql-server",level:3},{value:"Create the database",id:"create-the-database",level:3},{value:"Follow Us on Social Media",id:"follow-us-on-social-media",level:2}];function x(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"zabbix-server-install",children:"Zabbix Server Install"})}),"\n",(0,r.jsxs)(n.p,{children:["Zabbix is an open-source monitoring tool that monitors IT infrastructure, including:",(0,r.jsx)(n.br,{}),"\n","Networks, Servers, Virtual machines (VMs), Cloud services, Applications, Databases, and Websites"]}),"\n",(0,r.jsx)(n.p,{children:"In this episode we will cover how to setup the server side of Zabbix and in the following episode/article we will show you the agent side."}),"\n",(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,r.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/Ax3h24kXR1M?si=EnQw5wDNpi3ImpXW",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),"\n",(0,r.jsx)(n.h2,{id:"our-homelab-topology",children:"Our Homelab Topology"}),"\n",(0,r.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Untitled Diagram.png",alt:"Description of your image"}),"\n",(0,r.jsx)(n.h2,{id:"the-order-of-commands",children:"The Order of Commands"}),"\n",(0,r.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"_second picture of zabbix steps.png",alt:"Description of your image"}),"\n",(0,r.jsx)(n.h2,{id:"list-of-commands-used",children:"List of commands used"}),"\n",(0,r.jsx)(t.A,{children:(0,r.jsx)(n.p,{children:"Some commands MAY change usually just step 2 based on the current version of Zabbix. All other commands should work though."})}),"\n",(0,r.jsx)(n.h2,{id:"install-zabbix-commands",children:"Install zabbix Commands:"}),"\n",(0,r.jsxs)(n.p,{children:["Link to Zabbix's site and the commands can be found ",(0,r.jsx)(n.a,{href:"https://www.zabbix.com/download?zabbix=7.0&os_distribution=ubuntu&os_version=22.04&components=server_frontend_agent&db=mysql&ws=apache",children:"here"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo -s\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"wget https://repo.zabbix.com/zabbix/7.0/ubuntu/pool/main/z/zabbix-release/zabbix-release_latest_7.0+ubuntu22.04_all.deb\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"dpkg -i zabbix-release_latest_7.0+ubuntu22.04_all.deb\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"apt update\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"apt install zabbix-server-mysql zabbix-frontend-php zabbix-apache-conf zabbix-sql-scripts zabbix-agent\n"})}),"\n",(0,r.jsx)(n.h3,{id:"install-sql-server",children:"Install SQL server"}),"\n",(0,r.jsx)(n.p,{children:"Installs mySQL"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo apt-get install mysql-server\n"})}),"\n",(0,r.jsx)(n.p,{children:"Starts mySQL on boot"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo systemctl start mysql\n"})}),"\n",(0,r.jsx)(n.p,{children:"Start it"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"service mysql start\n"})}),"\n",(0,r.jsx)(n.p,{children:"Then do"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"mysql\n"})}),"\n",(0,r.jsx)(n.h3,{id:"create-the-database",children:"Create the database"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo mysql\n"})}),"\n",(0,r.jsx)(n.p,{children:"Formats the database type to a the format Zabbix can understand (utf8mb4)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"create database zabbix character set utf8mb4 collate utf8mb4_bin;\n"})}),"\n",(0,r.jsxs)(n.p,{children:["With this one the ",(0,r.jsx)(n.code,{children:"password"})," section is where you assign your database password"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"create user zabbix@localhost identified by 'password';\n"})}),"\n",(0,r.jsx)(n.p,{children:"Giving your user access to read and write to this database"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"grant all privileges on zabbix.* to zabbix@localhost;\n"})}),"\n",(0,r.jsx)(n.p,{children:"Set trust for the database"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"set global log_bin_trust_function_creators = 1;\n"})}),"\n",(0,r.jsx)(n.p,{children:"Exit mySQL"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"quit;\n"})}),"\n",(0,r.jsx)(t.A,{children:(0,r.jsx)(n.p,{children:"Wait a couple minutes after doing the following command, the script takes awhile to work. You won't see any output for a couple minutes"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"zcat /usr/share/zabbix-sql-scripts/mysql/server.sql.gz | mysql --default-character-set=utf8mb4 -uzabbix -p zabbix\n"})}),"\n",(0,r.jsx)(n.p,{children:"Go back into mySQL"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"mysql\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"set global log_bin_trust_function_creators = 0;\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"quit;\n"})}),"\n",(0,r.jsx)(n.p,{children:"Now edit config file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"nano /etc/zabbix/zabbix_server.conf\n"})}),"\n",(0,r.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.6.1.png",alt:"Description of your image"}),"\n",(0,r.jsxs)(n.p,{children:["Look for the ",(0,r.jsx)(n.code,{children:"DBuser=zabbix"})," section and edit the ",(0,r.jsx)(n.code,{children:"DBPassword="})," section with the password you just set earlier."]}),"\n",(0,r.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.6.2.png",alt:"Description of your image"}),"\n",(0,r.jsxs)(n.p,{children:["Save and exit with ",(0,r.jsx)("kbd",{children:"ctrl + X"}),", then ",(0,r.jsx)("kbd",{children:"Y"}),", then ",(0,r.jsx)("kbd",{children:"Enter"}),"."]}),"\n",(0,r.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.6.3.png",alt:"Description of your image"}),"\n",(0,r.jsx)(n.p,{children:"Start services:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"systemctl restart zabbix-server zabbix-agent apache2\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"systemctl enable zabbix-server zabbix-agent apache2\n"})}),"\n",(0,r.jsx)(n.p,{children:"Go to your browser to visit:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"http://host_machine_ip/zabbix\n"})}),"\n",(0,r.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.7.1.png",alt:"Description of your image"}),"\n",(0,r.jsx)(n.p,{children:"You will be presented with the landing page, click next."}),"\n",(0,r.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.8.1.png",alt:"Description of your image"}),"\n",(0,r.jsx)(n.p,{children:"Make sure everything has a green ok so you know you did it right."}),"\n",(0,r.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.8.2.png",alt:"Description of your image"}),"\n",(0,r.jsx)(n.p,{children:"Ensure you add the database user password you just set in that config file so Zabbix's panel can access it."}),"\n",(0,r.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.8.3.png",alt:"Description of your image"}),"\n",(0,r.jsx)(n.p,{children:"Set your server name and timezone."}),"\n",(0,r.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.9.1.png",alt:"Description of your image"}),"\n",(0,r.jsx)(n.p,{children:"Ensure all settings have been filled out or go back and fix them."}),"\n",(0,r.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.9.2.png",alt:"Description of your image"}),"\n",(0,r.jsx)(n.p,{children:"Login, remember the login for username and password is case sensitive! It is Admin NOT admin."}),"\n",(0,r.jsxs)(n.p,{children:["User: Admin",(0,r.jsx)(n.br,{}),"\n","Pass: zabbix"]}),"\n",(0,r.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.9.3.png",alt:"Description of your image"}),"\n",(0,r.jsx)(n.p,{children:"You are in, stay tuned for next episode on how to setup an agent on your servers, VMs, firewalls, etc!"}),"\n",(0,r.jsx)(o.A,{folder:"images/EP10_zabbixserver",name:"Still 2025-01-05 093020_1.9.4.png",alt:"Description of your image"}),"\n",(0,r.jsx)(n.h2,{id:"follow-us-on-social-media",children:"Follow Us on Social Media"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://www.youtube.com/@learntohomelab",children:"YouTube"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://discord.gg/6MsHSJWZpH",children:"Discord"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://www.patreon.com/c/learntohomelab",children:"Patreon"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://www.reddit.com/r/learntohomelab/",children:"Reddit"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://rumble.com/c/c-7585051",children:"Rumble"})})]})}function b(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}},6519:(e,n,i)=>{i.d(n,{A:()=>r});i(6540);var s=i(4848);function r({emoji:e,title:n,children:i}){return(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",backgroundColor:"#8CD2F4",color:"black",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[(0,s.jsx)("div",{style:{width:"100px",height:"50px",borderRadius:"50%",backgroundColor:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"20px",marginRight:"15px"},children:e}),(0,s.jsxs)("div",{children:[n&&(0,s.jsx)("h3",{style:{margin:0,marginBottom:"10px"},children:n}),i]})]})}},6819:(e,n,i)=>{i.d(n,{A:()=>o});var s=i(6540),r=i(1470),a=(i(5182),i(4848));const t="/LearnToHomeLabDocumentation";function o({folder:e="images/start-guide",name:n,alt:i="",className:o="",...l}){const[d,c]=(0,s.useState)(!1),h=`${t}/${e}/${n}`;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:h,alt:i,className:o,style:{cursor:"pointer",maxWidth:"100%"},onClick:()=>c(!0),...l}),(0,a.jsx)(r.Ay,{open:d,close:()=>c(!1),slides:[{src:h,alt:i}]})]})}}}]);